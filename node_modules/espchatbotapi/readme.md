[![Logo](https://i.imgur.com/r74nCr1.png)](https://www.npmjs.com/package/espchatbotapi/)

Una API funcional gratuita y en español dedicada a responder de forma divertida y amena a los mensajes que se solicitan, una manera sencilla de hacer que su app sea interactiva con los usuarios y agregarle una entretenida funcionalidad.

  ![NPM Versión](https://raster.shields.io/badge/Versión-1.3.9-brightgreen)
  ![NPM Descargas](https://raster.shields.io/badge/Descargas-86-blue)
  ![Respuestas](https://raster.shields.io/badge/Respuestas-2083-yellow)
  ![Creador](https://raster.shields.io/static/v1?label=Creador&message=Seyron#5532&color=RED?style=flat&logo=appveyor)

## Instalación
Antes de instalarlo, debe tener instalado [Node.js](https://nodejs.org/en/download/)
La instalación se realiza mediante el [comando de instalación npm](https://docs.npmjs.com/getting-started/installing-npm-packages-locally):

```bash
$ npm install espchatbotapi --save
```


## Características
* API es gratuita sin necesidad de ninguna API Key de pago.
* Respuestas interactivas y graciosas.
* Actualizaciones constantes.

## Constructor
En el constructor debera pasar el token(en el caso de que no quiera tener respuestas propias sino las mas comunes use el token:'publico') si quiere un token para tener sus propias respuestas personalizadas solicitalo dando [Click Aqui](https://discord.gg/bGNgRKgWyG)

## obtener
El metodo obtener tiene dos parametros
* texto(obligatorio)
* fiabilidad:Booleano(true o false)
Fiabilidad lo podeis dejar sin poner y lo tomara como false
si usas fiabilidad podras obtener que tan fiable es la respuesta que ha dado el bot hacia tu texto siendo el rango de 0(nada parecido) hasta 1(exactamente igual)

## Ejemplos

### Ejemplo 1: Petición básica
```js
let chatbot = require("espchatbotapi")
chatbot = new chatbot('publico') //en publico iria el token si tiene uno propio
chatbot.obtener("hola").then(respuesta => {
    console.log(respuesta) //respuesta al texto
}).catch(err => {
  console.log(err) //Solo saltara si hay un error mandando el error a la consola
})
```
### Ejemplo 2: Petición básica con fiabilidad
```js
let chatbot = require("espchatbotapi")
chatbot = new chatbot('publico') //en publico iria el token si tiene uno propio
chatbot.obtener("hola",true).then(respuesta => {
    console.log(respuesta[0]) //respuesta al texto
    console.log(respuesta[1]) //fiabilidad de la respuesta
}).catch(err => {
  console.log(err) //Solo saltara si hay un error mandando el error a la consola
})
```

### Ejemplo 2: Comando usando Discord.js
```js
/* Recordatorio:
 - Para este comando debe tener definido lo que se muestra debajo.
 - Debe tener definido "args" y debe ser un string.
 - Debe tener definido el "prefix".
*/
const Discord = require('discord.js');
const client = new Discord.Client();
let chatbot = require("espchatbotapi")
chatbot = new chatbot('publico')

//Usa el comando hablar
if (message.content.startsWith(prefix + "hablar")) {
	//Solicita una respuesta para el argumento del usuario y obtiene una respuesta de la API
    chatbot.obtener(args).then(respuesta => {
    message.channel.send(respuesta)
    //Le responde al usuario con la respuesta solicitada
    }).catch(err => {
      message.channel.send('Hubo un error')
    })
}
```

### Ejemplo 3: Enseñar al bot(usando token privado)
Para este ejemplo necesitara un token que no sea el publico
```js
let chatbot = require("espchatbotapi")
chatbot = new chatbot('publico')

chatbot.enseñar('hola','hola que tal estas?').then(r => {
  console.log(r) //deberia decirte que se enseño correctamente
}).catch(err => {
  console.log(err) //Si ocurre un error
})
```
Si necesitas actualizar una palabra puedes volver a ejecutar el comando,el npm se encarga de borrar la antigua palabra.
### Ejemplo 4: Borrar algo enseñado al bot(usando token privado)
Para este ejemplo necesitara un token que no sea el publico
```js
let chatbot = require("espchatbotapi")
chatbot = new chatbot('publico')

chatbot.enseñar('hola','hola que tal estas?').then(r => {
  console.log(r) //deberia decirte que se enseño correctamente
}).catch(err => {
  console.log(err) //Si ocurre un error
})

chatbot.borrar('hola').then(r => {
  console.log(r) //deberia decirte que se borro correctamente
}).catch(err => {
  console.log(err) //Si ocurre un error
})
```

### Ejemplo 5:Peticion basica con token + respuestas publicas(recomendado)
Este ejemplo te enseñara como mezclar las respuestas añadidas por tu bot y las respuestas publicas
```js
let api = require("espchatbotapi")

chatbotpublico = new api('publico')
chatbottoken = new api('tutoken')

let minimo = 0.45
chatbottoken.obtener("hola",true).then(respuesta => {
  if(respuesta[1] > minimo){ //Si el factor de fiabilidad es menor al minimo definido previamente usara la respuesta de la api publica
    console.log(respuesta[0]) //respuesta al texto(respuesta de tu propio bot)
  } else {
    chatbotpublico.obtener("hola").then(respuesta => {
     console.log(respuesta) //respuesta de la api publica
    }).catch(err => {
    console.log(err)
    })
  }

}).catch(err => {
  console.log(err) //Si ocurre un error
})

```